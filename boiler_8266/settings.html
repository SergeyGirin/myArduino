<script type="text/javascript">
	var request = false;
	   try {
		 request = new XMLHttpRequest();
	   } catch (trymicrosoft) {
		 try {
		   request = new ActiveXObject("Msxml2.XMLHTTP");
		 } catch (othermicrosoft) {
		   try {
			 request = new ActiveXObject("Microsoft.XMLHTTP");
		   } catch (failed) {
			 request = false;
		   }  
		 }
	   }
	
	var myReload = 0;
	   
	
	function tempAlert(msg,duration)
	{
	
	 var el = document.createElement("div");
	 el.setAttribute("style","position:absolute;top:25%;left:30%;background-color:white;border: solid 1px black;padding: 5px;");
	 el.innerHTML = msg;
	 setTimeout(function(){
	  el.parentNode.removeChild(el);
	 },duration);
	 document.body.appendChild(el);
	 
	}
	
   function updatePage() {
   //tempAlert("updatePage()",2000);
     if (request.readyState == 4) 
	 {
       if (request.status == 200) 
	   {
			//tempAlert(request.responseText,2000);
			var myLocation = window.location;
			if (myLocation.hostname=="fh7951dm.bget.ru")
			{
				setTimeout("location.href='http://fh7951dm.bget.ru/100/home.html'", 100);
			}
			else
			{
				setTimeout("location.href='index.html'", 100);
			}
       } else
			tempAlert( "status is " + request.status,2000);
	   }
   }
	

	function onClicker(param) {		
		//tempAlert('param = '+param,2000);
		var oldColor = document.getElementById(param).style.backgroundColor;
		document.getElementById(param).style.backgroundColor = 'gold';
		 
		setTimeout(function(){
			document.getElementById(param).style.backgroundColor = oldColor;
		},300);

		var myLocation = window.location;
		if (myLocation.hostname=="fh7951dm.bget.ru")
		{
			var url = "runner.php?" ;
		}
		else
		{
			var url = "/?" ;
		}		
		//var url = "/?";
		//if (param=="01") url += "reload=1";
		//if (param=="03") url += "restart=1";
		if (param=="2") url += "base=2";
		if (param=="3") url += "base=3";
		if (param=="4") url += "base=4";
		if (param=="5") url += "base=5";
		if (param=="6") url += "base=6";
		if (param=="7") url += "base=7";
		
		//tempAlert( url,2000);
		
		request.open("GET", url, true);
		request.onreadystatechange = updatePage;
		request.send(null);
		myReload = 1;
		
	};
	
function setServo() {
	 //tempAlert("==="+request.readyState);
     if (request.readyState == 4) {
       if (request.status == 200) {
         var response = request.responseText.split(";");
		 //tempAlert(response[0]+"="+response[1],2000);
		 if (response[1] == "180")
		 {
			document.getElementById("2").style.backgroundColor = 'lime';
		 }
 		 if (response[1] == "150")
		 {
			document.getElementById("3").style.backgroundColor = 'lime';
		 }
 		 if (response[1] == "100")
		 {
			document.getElementById("4").style.backgroundColor = 'lime';
		 }
 		 if (response[1] == "60")
		 {
			document.getElementById("5").style.backgroundColor = 'lime';
		 }
 		 if (response[1] == "30")
		 {
			document.getElementById("6").style.backgroundColor = 'lime';
		 }
 		 if (response[1] == "0")
		 {
			document.getElementById("7").style.backgroundColor = 'lime';
		 }
		 //tempAlert( "Reload = "+myReload,2000);

		 //setTimeout("location.reload(true);", 10000);
		 //window.location.reload();
       } else
		 tempAlert( "status Servo is " + request.status,2000);
         //alert("status Servo is " + request.status);
     }
   }	

	function myOnLoad() {
		
		var myLocation = window.location;
		if (myLocation.hostname=="fh7951dm.bget.ru")
		{
			var url = "runner.php?base=0";
		}
		else
		{
			var url = "/?base=0";
		}
		//tempAlert( url,2000);
		
		request.open("GET", url, true);
		request.onreadystatechange = setServo;
		request.send(null);
	}
	

   
		
	
	
</script>
<style type="text/css">


.button {
  display: inline-block;
  margin: 10px;
  width: 200px;
  height: 200px;
  background: Red;
  cursor: pointer;
  border-radius: 50%;
  box-shadow: 0 3px 20px rgba(0,0,0,.25),
  inset 0 2px 0 rgba(255,255,255,.6),
  0 2px 0 rgba(0,0,0,.1),
  inset 0 0 20px rgba(0,0,0,.1);
  color: #f9f2f2;
  font-size:68px;
}
.button:hover {
  box-shadow: inset 0 0 20px rgba(0,0,0,.2),
  0 2px 0 rgba(255,255,255,.4),
  inset 0 2px 0 rgba(0,0,0,.1);
}

.button_work {
  display: inline-block;
  margin: 10px;
  width: 200px;
  height: 200px;
  background: #5e4cec;
  cursor: pointer;
  border-radius: 50%;
  box-shadow: 0 3px 20px rgba(0,0,0,.25),
  inset 0 2px 0 rgba(255,255,255,.6),
  0 2px 0 rgba(0,0,0,.1),
  inset 0 0 20px rgba(0,0,0,.1);
  /* color: #f9f2f2; */
  font-size:88px;
}

.button_work_hidden {
  display: inline-block;
  margin: 10px;
  width: 200px;
  height: 200px;
  background: #00BCD4;
  cursor: pointer;
  border-radius: 50%;
  box-shadow: 0 3px 20px rgba(0,0,0,.25),
  inset 0 2px 0 rgba(255,255,255,.6),
  0 2px 0 rgba(0,0,0,.1),
  inset 0 0 20px rgba(0,0,0,.1);
  color: #00BCD4;
  font-size:88px;
}
.button_work:hover {
  box-shadow: inset 0 0 20px rgba(0,0,0,.2),
  0 2px 0 rgba(255,255,255,.4),
  inset 0 2px 0 rgba(0,0,0,.1);
}
table {
    width: 100%; /* Ўирина таблицы */
    background: white; /* ÷вет фона таблицы */
    color: white; /* ÷вет текста */
    border-spacing: 1px; /* –ассто€ние между €чейками */
	border: 10px; 
	border-color: Green /* цвет */;
   }
   td, th {
	background: #00BCD4; /* цвет фона €чеек */
    /* background: #07dffb;  цвет фона €чеек */
    padding: 5px; /* ѕол€ вокруг текста */
   }
</style>
<body onload="myOnLoad()">
<table>
<tr>
<th><input id="01" type="button" value="" class="button" onclick="onClicker('01')"></th>
<th><input id="02" type="button" value="" class="button" onclick="onClicker('02')"></th>
<th><input id="03" type="button" value="" class="button" onclick="onClicker('03')"></th>
</tr>
<tr>
<th><input id="1" type="button" value="" class="button_work_hidden" onclick="onClicker('1')"></th>
<th><input id="2" type="button" value="2" class="button_work" onclick="onClicker('2')"></th>
<th><input id="3" type="button" value="3" class="button_work" onclick="onClicker('3')"></th>
</tr>
<tr>
<th><input id="4" type="button" value="4" class="button_work" onclick="onClicker('4')"></th>
<th><input id="5" type="button" value="5" class="button_work" onclick="onClicker('5')"></th>
<th><input id="6" type="button" value="6" class="button_work" onclick="onClicker('6')"></th>
</tr>
<tr>
<th><input id="7" type="button" value="7" class="button_work" onclick="onClicker('7')"></th>
<th><input id="8" type="button" value="" class="button_work_hidden" onclick="onClicker('8')"></th>
<th><input id="9" type="button" value="" class="button_work_hidden" onclick="onClicker('9')"></th>
</tr>
<tr>
<th><input id="<" type="button" value="" class="button_work_hidden" onclick="onClicker('<')"></th>
<th><input id="0" type="button" value="" class="button_work_hidden" onclick="onClicker('0')"></th>
<th><input id=">" type="button" value="" class="button_work_hidden" onclick="onClicker('>')"></th>
</tr>
</table>
<div id="results"></div>
</body>
